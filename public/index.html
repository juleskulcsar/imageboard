<!doctype html>
<html>
<head>
    <title>image board</title>
    <link rel="stylesheet" href="/styles.css" type="text/css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway&display=swap">
</head>
<body>
    <div class="main">
        <h1>I LOVE PIXELS</h1><br />
        <form>
            <input v-model="title" name="title" placeholder="title" type="text"/>
            <input v-model="description" name="description" placeholder="description" type="text"/>
            <input v-model="username" name="username" placeholder="username" type="text"/>
            <input name="file" type="file" accept="image/*" @change='handleChange'/>
            <button @click.prevent.default='handleClick' type="button" name="button">submit</button>
        </form><br />
        <h2>{{ name }}</h2>

        <div class="grid">
            <div class="images" v-for ="image in images">
                <a :href="'#'+image.id">
                    <img :src="image.url" class="image_grid" alt="image" :id="image.id" @click="clicked(image.id)">
                    <p class="image_title">{{image.title}}</p>
                </a>
            </div>
        </div>
        <div>
            <!-- <modal v-if="showModal" :id="showModal" @close="showModal=false"></modal> -->
            <modal v-if="image_id" v-bind:id="image_id" @close="image_id=false"></modal>
        </div>
    </div>

    <script type="text/x-template" id="modal-template">
      <transition name="modal">
          <div class="modal-wrapper">
              <!-- <p>Photo-id {{id}}</p> -->
              <div class="commentSection">
                  <div class="text">LEAVE A COMMENT</div>
                  <input class="commenter_field" v-model="commentSection.commenter" type="text" placeholder="username"></input>
                  <input class="comment_field" v-model="commentSection.comment" type="text" placeholder="comment"></input>
                  <button class="comment_btn" type="button" @click="addComment">POST COMMENT</button>
              </div>

              <div>
                  <div>
                      <div v-if="comments.length > 0">Comments</div>
                      <div id="comments" v-for="comment in comments">
                          <div class="comment"><h3>{{ comment.comment }}</h3></div>
                          <div class="commenter"><h3>comment posted by {{ comment.commenter }} on {{comment.created_at}}</h3></div>
                      </div>
                  </div>
              </div>

              <div class="modal-image">
                  <div class="pop">
                      <h2>{{imageData.title}}</h2>
                      <img :src="imageData.url" class="popImage">
                      <h2>{{imageData.description}}</h2>
                      <h2>posted by {{imageData.username}}</h2>
                      <h2>posted on {{imageData.created_at}}</h2>
                  </div>
              </div>
              <button class="modal-btn" @click="$emit('close')">close</button>
          </div>
      </transition>
  </script>
<!-- do not put this script inside the "el" element -->
    <footer class="footer">
        &copy Jules K from SPICED BERLIN
    </footer>

    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="/js/modal.js"></script>
    <script src="/js/script.js"></script>
</body>
</html>
